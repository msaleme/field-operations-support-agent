# Field Operations Support Agent - Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FIELD OPERATIONS SUPPORT AGENT                       â”‚
â”‚                          (MuleSoft Application)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Field Tech    â”‚    â”‚                 AI Assistant                       â”‚
â”‚   ğŸ§‘â€ğŸ”§ Mobile    â”‚â—„â”€â”€â–ºâ”‚              (Claude via MCP)                      â”‚
â”‚   Device        â”‚    â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â”‚ MCP Protocol
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            MULE RUNTIME                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  global-config  â”‚  â”‚ error-handlers  â”‚  â”‚     main flows              â”‚  â”‚
â”‚  â”‚     .xml        â”‚  â”‚     .xml        â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â€¢ HTTP Config   â”‚  â”‚ â€¢ DB Errors     â”‚  â”‚  â”‚    MCP Tool Listeners   â”‚ â”‚  â”‚
â”‚  â”‚ â€¢ DB Configs    â”‚  â”‚ â€¢ HTTP Errors   â”‚  â”‚  â”‚                         â”‚ â”‚  â”‚
â”‚  â”‚ â€¢ Claude AI     â”‚  â”‚ â€¢ Validation    â”‚  â”‚  â”‚ 1. SOP Manual Access    â”‚ â”‚  â”‚
â”‚  â”‚ â€¢ MCP Server    â”‚  â”‚ â€¢ Timeouts      â”‚  â”‚  â”‚ 2. Asset History        â”‚ â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚ â€¢ Auth Errors   â”‚  â”‚  â”‚ 3. Parts Inventory      â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ General       â”‚  â”‚  â”‚ 4. Work Order Info      â”‚ â”‚  â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â”‚ Database Queries
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BACKEND DATABASES                                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Asset Managementâ”‚  â”‚ Inventory Mgmt  â”‚  â”‚   Work Order Management     â”‚  â”‚
â”‚  â”‚    Database     â”‚  â”‚    Database     â”‚  â”‚        Database             â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚ â€¢ Assets        â”‚  â”‚ â€¢ Parts         â”‚  â”‚ â€¢ Work Orders               â”‚  â”‚
â”‚  â”‚ â€¢ Maintenance   â”‚  â”‚ â€¢ Inventory     â”‚  â”‚ â€¢ Customer Info             â”‚  â”‚
â”‚  â”‚   History       â”‚  â”‚ â€¢ Locations     â”‚  â”‚ â€¢ Scheduling                â”‚  â”‚
â”‚  â”‚ â€¢ Known Issues  â”‚  â”‚ â€¢ Alternatives  â”‚  â”‚ â€¢ Requirements              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Architecture

```
TECHNICIAN REQUEST FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  1. "What's the SOP for transformer replacement?"                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Natural Language    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚     â”‚Field Tech   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     AI Assistant (Claude)   â”‚  â”‚
â”‚     â”‚Mobile App   â”‚                         â”‚                             â”‚  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                           â”‚                 â”‚
â”‚  2. AI converts to structured MCP tool call               â”‚                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     â”‚ {                                                   â–¼                 â”‚
â”‚     â”‚   "tool": "getSopManual",               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚   "parameters": {                       â”‚     MCP Tool Listener       â”‚ â”‚
â”‚     â”‚     "equipmentType": "transformer",     â”‚   (sop-manual-access-flow)  â”‚ â”‚
â”‚     â”‚     "procedureType": "replacement"      â”‚                             â”‚ â”‚
â”‚     â”‚   }                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚     â”‚ }                                                   â”‚                 â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚                 â”‚
â”‚  3. Route to appropriate subflow                          â–¼                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚               CHOICE ROUTER                                         â”‚ â”‚
â”‚     â”‚                                                                     â”‚ â”‚
â”‚     â”‚  if (equipmentType contains 'transformer')                         â”‚ â”‚
â”‚     â”‚    â”œâ”€â”€ get-transformer-sop-subflow                                 â”‚ â”‚
â”‚     â”‚  elif (equipmentType contains 'fuse')                              â”‚ â”‚
â”‚     â”‚    â”œâ”€â”€ get-fuse-sop-subflow                                        â”‚ â”‚
â”‚     â”‚  elif (equipmentType contains 'meter')                             â”‚ â”‚
â”‚     â”‚    â”œâ”€â”€ get-meter-sop-subflow                                       â”‚ â”‚
â”‚     â”‚  else                                                               â”‚ â”‚
â”‚     â”‚    â””â”€â”€ get-general-sop-subflow                                     â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                           â”‚                                 â”‚
â”‚  4. Generate contextual SOP               â–¼                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚              DATAWEAVE TRANSFORMATION                               â”‚ â”‚
â”‚     â”‚                                                                     â”‚ â”‚
â”‚     â”‚  %dw 2.0                                                            â”‚ â”‚
â”‚     â”‚  output application/java                                            â”‚ â”‚
â”‚     â”‚  ---                                                                â”‚ â”‚
â”‚     â”‚  {                                                                  â”‚ â”‚
â”‚     â”‚    title: "Transformer Replacement Procedure",                     â”‚ â”‚
â”‚     â”‚    safetyPrecautions: [...],                                       â”‚ â”‚
â”‚     â”‚    steps: [...],                                                    â”‚ â”‚
â”‚     â”‚    estimatedTime: "4-6 hours"                                       â”‚ â”‚
â”‚     â”‚  }                                                                  â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                           â”‚                                 â”‚
â”‚  5. Format for human consumption          â–¼                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚     â”‚              RESPONSE FORMATTING                                    â”‚ â”‚
â”‚     â”‚                                                                     â”‚ â”‚
â”‚     â”‚  "**Transformer Replacement Procedure**                            â”‚ â”‚
â”‚     â”‚                                                                     â”‚ â”‚
â”‚     â”‚   **Safety Precautions:**                                           â”‚ â”‚
â”‚     â”‚   â€¢ Verify power isolation and lockout/tagout                      â”‚ â”‚
â”‚     â”‚   â€¢ Test for voltage using approved equipment                      â”‚ â”‚
â”‚     â”‚                                                                     â”‚ â”‚
â”‚     â”‚   **Steps:**                                                        â”‚ â”‚
â”‚     â”‚   1. Coordinate with system operations                              â”‚ â”‚
â”‚     â”‚   2. Verify transformer is de-energized                            â”‚ â”‚
â”‚     â”‚   ..."                                                              â”‚ â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                           â”‚                                 â”‚
â”‚  6. Return to technician                  â–¼                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      Formatted Text   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚     â”‚Field Tech   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚     AI Assistant (Claude)   â”‚  â”‚
â”‚     â”‚Mobile App   â”‚                       â”‚                             â”‚  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Tool Architecture Detail

```
MCP TOOL ECOSYSTEM:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚   Tool 1: SOP       â”‚    â”‚   Tool 2: Asset    â”‚                        â”‚
â”‚  â”‚   Manual Access     â”‚    â”‚   History Lookup   â”‚                        â”‚
â”‚  â”‚                     â”‚    â”‚                     â”‚                        â”‚
â”‚  â”‚ Input:              â”‚    â”‚ Input:              â”‚                        â”‚
â”‚  â”‚ â€¢ equipmentType     â”‚    â”‚ â€¢ assetId           â”‚                        â”‚
â”‚  â”‚ â€¢ procedureType     â”‚    â”‚ â€¢ location          â”‚                        â”‚
â”‚  â”‚ â€¢ modelNumber       â”‚    â”‚ â€¢ equipmentType     â”‚                        â”‚
â”‚  â”‚                     â”‚    â”‚                     â”‚                        â”‚
â”‚  â”‚ Output:             â”‚    â”‚ Output:             â”‚                        â”‚
â”‚  â”‚ â€¢ Safety steps      â”‚    â”‚ â€¢ Maintenance hist  â”‚                        â”‚
â”‚  â”‚ â€¢ Procedures        â”‚    â”‚ â€¢ Known issues      â”‚                        â”‚
â”‚  â”‚ â€¢ Required tools    â”‚    â”‚ â€¢ Next maintenance  â”‚                        â”‚
â”‚  â”‚ â€¢ Time estimates    â”‚    â”‚ â€¢ Asset details     â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚   Tool 3: Parts     â”‚    â”‚   Tool 4: Work      â”‚                        â”‚
â”‚  â”‚   Inventory Check   â”‚    â”‚   Order Info        â”‚                        â”‚
â”‚  â”‚                     â”‚    â”‚                     â”‚                        â”‚
â”‚  â”‚ Input:              â”‚    â”‚ Input:              â”‚                        â”‚
â”‚  â”‚ â€¢ partNumber        â”‚    â”‚ â€¢ workOrderNumber   â”‚                        â”‚
â”‚  â”‚ â€¢ partDescription   â”‚    â”‚ â€¢ technicianId      â”‚                        â”‚
â”‚  â”‚ â€¢ location          â”‚    â”‚ â€¢ status            â”‚                        â”‚
â”‚  â”‚ â€¢ findAlternatives  â”‚    â”‚                     â”‚                        â”‚
â”‚  â”‚                     â”‚    â”‚ Output:             â”‚                        â”‚
â”‚  â”‚ Output:             â”‚    â”‚ â€¢ Customer info     â”‚                        â”‚
â”‚  â”‚ â€¢ Availability      â”‚    â”‚ â€¢ Job details       â”‚                        â”‚
â”‚  â”‚ â€¢ Locations         â”‚    â”‚ â€¢ Safety notes      â”‚                        â”‚
â”‚  â”‚ â€¢ Alternatives      â”‚    â”‚ â€¢ Equipment info    â”‚                        â”‚
â”‚  â”‚ â€¢ Recommendations   â”‚    â”‚ â€¢ Scheduling        â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Configuration & Environment Management

```
CONFIGURATION ARCHITECTURE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   ENVIRONMENT-SPECIFIC CONFIG                           â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Development (config-dev.properties):                                  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ http.port=8082                                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ asset.db.url=localhost:5432/asset_management_dev                  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ logging.level=DEBUG                                               â”‚ â”‚
â”‚  â”‚  â””â”€â”€ docs.api.url=https://docs-api-dev.utility.com                     â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Production (config-prod.properties):                                  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ http.port=8081                                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ asset.db.url=prod-db.utility.com:5432/asset_management            â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ logging.level=INFO                                                â”‚ â”‚
â”‚  â”‚  â””â”€â”€ docs.api.url=https://docs-api.utility.com                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                           â”‚                                 â”‚
â”‚                              Property Resolution                            â”‚
â”‚                                           â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    GLOBAL CONFIGURATION                                 â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  <configuration-properties file="config-${mule.env}.properties"/>      â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  HTTP Listener: host="${http.host}" port="${http.port}"                â”‚ â”‚
â”‚  â”‚  Database: url="${asset.db.url}" user="${secure::asset.db.user}"       â”‚ â”‚
â”‚  â”‚  Claude AI: apiKey="${secure::claude.api.key}"                         â”‚ â”‚
â”‚  â”‚  MCP Server: serverName="field-operations-support-agent"               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Error Handling Flow

```
ERROR HANDLING ARCHITECTURE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        GLOBAL ERROR HANDLER                             â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Database Errors (DB:CONNECTIVITY)                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Log error details                                                  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Return HTTP 503 Service Unavailable                               â”‚ â”‚
â”‚  â”‚  â””â”€â”€ Structured JSON response with correlation ID                      â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  HTTP Errors (HTTP:CONNECTIVITY, HTTP:TIMEOUT)                         â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Log connection/timeout details                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Return HTTP 502 Bad Gateway / 408 Timeout                         â”‚ â”‚
â”‚  â”‚  â””â”€â”€ User-friendly error message                                        â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Validation Errors (APIKIT:BAD_REQUEST)                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Log validation failure                                             â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Return HTTP 400 Bad Request                                        â”‚ â”‚
â”‚  â”‚  â””â”€â”€ Include validation details                                         â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Authentication Errors (HTTP:UNAUTHORIZED)                              â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Log auth failure                                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Return HTTP 401 Unauthorized                                       â”‚ â”‚
â”‚  â”‚  â””â”€â”€ Request credentials                                                â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  General Errors (ANY)                                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Log unexpected error                                               â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ Return HTTP 500 Internal Server Error                             â”‚ â”‚
â”‚  â”‚  â””â”€â”€ Generic error message                                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                           â”‚                                 â”‚
â”‚                               Applied to All Flows                         â”‚
â”‚                                           â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚SOP Manual   â”‚  â”‚Asset Historyâ”‚  â”‚Parts Inv    â”‚  â”‚Work Order Info      â”‚ â”‚
â”‚  â”‚Access Flow  â”‚  â”‚Lookup Flow  â”‚  â”‚Check Flow   â”‚  â”‚Flow                 â”‚ â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚                     â”‚ â”‚
â”‚  â”‚<error-      â”‚  â”‚<error-      â”‚  â”‚<error-      â”‚  â”‚<error-handler       â”‚ â”‚
â”‚  â”‚handler ref= â”‚  â”‚handler ref= â”‚  â”‚handler ref= â”‚  â”‚ref="global-error-   â”‚ â”‚
â”‚  â”‚"global-..."/>â”‚  â”‚"global-..."/>â”‚  â”‚"global-..."/>â”‚  â”‚handler"/>           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Testing Strategy

```
MUNIT TESTING ARCHITECTURE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                       UNIT TESTS                                        â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  SOP Subflow Tests:                                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ test-sop-transformer-replacement                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ test-sop-fuse-replacement                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ test-sop-meter-installation                                        â”‚ â”‚
â”‚  â”‚  â””â”€â”€ test-sop-general-equipment                                         â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Work Order Tests:                                                      â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ test-specific-work-order-retrieval                                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€ test-technician-work-orders-retrieval                              â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Error Handling Tests:                                                  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ test-error-handling-database-connectivity                          â”‚ â”‚
â”‚  â”‚  â””â”€â”€ test-error-handling-http-connectivity                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  Test Pattern:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  <munit:test name="test-name">                                          â”‚ â”‚
â”‚  â”‚    <munit:behavior>                                                     â”‚ â”‚
â”‚  â”‚      <!-- Set up test data and variables -->                           â”‚ â”‚
â”‚  â”‚    </munit:behavior>                                                    â”‚ â”‚
â”‚  â”‚    <munit:execution>                                                    â”‚ â”‚
â”‚  â”‚      <!-- Execute the flow/subflow being tested -->                    â”‚ â”‚
â”‚  â”‚    </munit:execution>                                                   â”‚ â”‚
â”‚  â”‚    <munit:validation>                                                   â”‚ â”‚
â”‚  â”‚      <!-- Assert expected outcomes -->                                  â”‚ â”‚
â”‚  â”‚    </munit:validation>                                                  â”‚ â”‚
â”‚  â”‚  </munit:test>                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```